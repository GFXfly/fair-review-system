import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

async function main() {
    console.log('Adding batch regulations...')

    const regulations = [
        {
            title: '市场准入负面清单（2025年版）',
            level: '部门规章',
            content: `《市场准入负面清单（2025年版）》已于2025年4月24日由国家发展改革委、商务部、国家市场监管总局联合发布。新修订的清单事项数量由2022年版的117项缩减至106项，进一步放宽了市场准入限制。该清单分为禁止和许可两类事项，对禁止准入事项，经营主体不得进入；对许可准入事项，政府会公开法律法规依据、技术标准、许可要求等，由经营主体按照规定条件和方式合规进入；清单以外的行业、领域、业务，各类经营主体均可依法平等进入。`,
            publishDate: '2025-04-24',
            department: '国家发展改革委、商务部、国家市场监管总局',
            category: '市场准入'
        },
        {
            title: '公路工程建设项目资格预审文件和招标文件公平竞争合规指引',
            level: '部门规章',
            content: `交通运输部于2025年3月28日印发。该指引旨在规范公路工程建设项目资格预审文件和招标文件编制，维护公平竞争市场秩序。指引明确，招标人应依法依规编制资格预审文件和招标文件，不得设置违反公平竞争的内容，例如违法限定潜在投标人或投标人的所有制形式、设定规模条件、歧视外地经营者、将国家已取消的资质作为投标条件等。`,
            publishDate: '2025-03-28',
            department: '交通运输部',
            category: '招投标'
        },
        {
            title: '国务院办公厅关于建立健全涉企收费长效监管机制的指导意见',
            level: '行政法规',
            content: `国务院办公厅印发，于2025年3月28日经国务院常务会议审议通过。该意见旨在加强涉企收费监管，降低企业经营成本，优化营商环境。意见提出了七方面重点任务，包括健全涉企收费目录清单制度、完善涉企收费政策评估审核工作机制、加强涉企收费政策常态化宣传解读、健全涉企收费跟踪监测制度、健全涉企收费问题线索收集和处理机制等。`,
            publishDate: '2025-03-28',
            department: '国务院办公厅',
            category: '涉企收费'
        },
        {
            title: '公平竞争审查条例实施办法',
            level: '部门规章',
            content: `市场监管总局于2025年3月31日发布，2025年4月20日正式施行。该《实施办法》共48条，在《公平竞争审查条例》框架下，细化完善了公平竞争审查总体要求、部门职责、审查标准、审查机制、审查程序以及监督保障措施等。主要内容包括明确审查范围、细化审查标准（将《条例》规定的四方面审查标准细化为66项具体情形）、健全审查机制以及强化监督保障。`,
            publishDate: '2025-03-31',
            department: '市场监管总局',
            category: '实施细则'
        },
        {
            title: '基础设施和公用事业特许经营管理办法',
            level: '部门规章',
            content: `已于2024年3月28日经国家发展改革委、财政部、住房城乡建设部、交通运输部、水利部、中国人民银行令第17号公布，并自2024年5月1日起施行。该办法旨在鼓励和引导社会资本参与基础设施和公用事业建设运营，提高公共服务质量和效率，保护特许经营者合法权益。适用于中华人民共和国境内的交通运输、市政工程、生态保护、环境治理、水利、能源、体育、旅游等基础设施和公用事业领域的特许经营活动。`,
            publishDate: '2024-03-28',
            department: '国家发展改革委等六部门',
            category: '特许经营'
        },
        {
            title: '招标投标领域公平竞争审查规则',
            level: '部门规章',
            content: `由国家发展改革委等八部门联合印发，于2024年5月1日起施行。这是中国首部行业领域公平竞争审查规则，旨在打破地方保护和行政性垄断。规则详细规定了公平竞争审查的标准，禁止制定一些不合理的政策措施，例如为招标人指定招标代理机构、限定投标资格或技术条件，以及要求投标人注册本地公司、缴纳本地税收或社保等。`,
            publishDate: '2024-05-01',
            department: '国家发展改革委等八部门',
            category: '招投标'
        },
        {
            title: '关于完善全国中小企业股份转让系统终止挂牌制度的指导意见',
            level: '部门规章',
            content: `由中国证券监督管理委员会发布，于2021年5月28日正式施行。该指导意见旨在为全国中小企业股份转让系统（即“新三板”）建立常态化、市场化的退出机制。意见完善了主动终止挂牌和强制终止挂牌的基本制度框架，重点关注挂牌公司的财务真实性、信息披露、公司治理的合法合规性以及持续经营能力。`,
            publishDate: '2021-05-28',
            department: '证监会',
            category: '金融监管'
        },
        {
            title: '中华人民共和国招标投标法',
            level: '法律',
            content: `于2000年1月1日起施行。本法旨在规范招标投标活动，保护国家利益、社会公共利益以及招标投标活动当事人的合法权益。该法规定，在中国境内进行的工程建设项目，包括勘察、设计、施工、监理以及与工程建设有关的重要设备和材料等的采购，符合特定范围和规模标准的，必须进行招标。招标投标活动应当遵循公开、公平、公正和诚实信用的原则。`,
            publishDate: '2000-01-01',
            department: '全国人大常委会',
            category: '招投标'
        },
        {
            title: '国务院关于在市场体系建设中建立公平竞争审查制度的意见',
            level: '行政法规',
            content: `国发〔2016〕34号，于2016年6月14日发布。该意见强调公平竞争是市场经济的基本原则，是市场机制高效运行的重要基础。意见旨在规范政府行为，防止出台排除、限制竞争的政策措施，并逐步清理废除妨碍全国统一市场和公平竞争的规定和做法。要求各级政府和部门在制定涉及市场主体经济活动的政策措施时，进行公平竞争审查。`,
            publishDate: '2016-06-14',
            department: '国务院',
            category: '综合'
        },
        {
            title: '中华人民共和国税收征收管理法',
            level: '法律',
            content: `经第九届全国人民代表大会常务委员会第二十一次会议修订通过，于2001年5月1日起施行。本法旨在规范税收征收和缴纳行为，加强税收征收管理，保障国家税收收入，保护纳税人的合法权益。法律明确规定了税收的开征、停征、减税、免税、退税、补税应依照法律规定执行。`,
            publishDate: '2001-05-01',
            department: '全国人大常委会',
            category: '税收'
        },
        {
            title: '中华人民共和国政府采购法实施条例',
            level: '行政法规',
            content: `于2015年1月30日由国务院公布，并自2015年3月1日起施行。本条例根据《中华人民共和国政府采购法》制定，旨在规范政府采购当事人的采购行为。条例明确了财政性资金的范围，规定了政府采购的方式、采购需求、采购人内部控制制度的建立，并强调落实节能环保、扶持中小企业等政府采购政策。`,
            publishDate: '2015-01-30',
            department: '国务院',
            category: '政府采购'
        }
    ]

    for (const r of regulations) {
        // Check if exists to avoid duplicates
        const existing = await prisma.regulation.findFirst({
            where: { title: r.title }
        })

        if (!existing) {
            const created = await prisma.regulation.create({
                data: r,
            })
            console.log(`Created regulation: ${created.title}`)
        } else {
            console.log(`Skipped existing regulation: ${r.title}`)
        }
    }
}

main()
    .then(async () => {
        await prisma.$disconnect()
    })
    .catch(async (e) => {
        console.error(e)
        await prisma.$disconnect()
        process.exit(1)
    })
