
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
    // 1. 创建通报记录
    // 通告机构：北京市市场监督管理局
    // 通告日期：2023-12-19
    const report = await prisma.report.create({
        data: {
            title: '北京市市场监督管理局关于2022年公平竞争审查抽查存在问题文件的通报',
            department: '北京市市场监督管理局',
            publishDate: '2023-12-19',
            province: '北京市'
        }
    });

    console.log(`创建北京市通报记录，ID: ${report.id}`);

    // 图片中列出了很多具体案例（问题文件），我将逐一提取。
    // 由于图片文字较密集，我会尽力还原所有提及的违规点。

    const cases = [
        {
            title: '某单位违规限制企业迁移并设置不当评价指标',
            content: `2022年北京市公平竞争审查抽查存在问题文件（一）：某单位2021年出台《关于下达2020年第二批高精尖产业发展资金计划的通知》，依据“按照财政资金绩效评价的有关要求，发现问题及时上报，积极协调解决，同时做好抵扣，服务企业立足北京长期稳定发展，培育经营主体5年内不迁出北京”，对企业自主迁移设置障碍，违反《公平竞争审查制度实施细则》（以下简称《实施细则》）第十三条第（一）项关于不得对企业搬迁转移等设定或者变相设定市场退出障碍的规定。`,
            violationType: '限制迁移/退出壁垒',
            violationClause: '《公平竞争审查制度实施细则》第十三条第（一）项关于不得对企业搬迁转移等设定或者变相设定市场退出障碍的规定',
            documentName: '《关于下达2020年第二批高精尖产业发展资金计划的通知》',
            documentOrg: '北京市某单位',
            province: '北京市',
            violationDetail: '要求服务企业“培育经营主体5年内不迁出北京”，对企业自主迁移设置障碍。',
            result: '通报要求整改。',
            publishDate: '2023-12-19',
            reportId: report.id
        },
        {
            title: '某单位设定歧视性准入条件并强制要求PPP模式',
            content: `2022年北京市公平竞争审查抽查存在问题文件（一）：某单位2021年出台《关于印发<北京市人工智能算力布局方案（2021-2023年）>的通知》，规定“本市公共算力中心应符合多元化建设运营要求，并支持准入和退出监管，准入条件包括......优先国产、......经济贡献等方面”，优先国产和有经济贡献的企业准入，违反了《实施细则》第十三条第（一）项关于不得对不同所有制、地区、组织形式的经营者实施不合理的差别化待遇，设置不平等的市场准入和退出条件的规定；该文件同时规定“加大政策支持......公共算力中心建设原则上采用PPP模式，由各区按照相关政策组织实施，建设或承建单位应为在京落地的行业骨干企业单位”，限制特定企业参与公共算力中心建设，违反了《实施细则》第十三条（三）项关于在招标投标、政府采购中不得规定投标人所在地，所有制形式、组织形式，或者设定其他不合理的条件排斥或者限制经营者参与招标投标、政府采购活动的规定。`,
            violationType: '差别待遇/排斥外地企业/强制本地注册/限定经营模式',
            violationClause: '《实施细则》第十三条第（一）项、第十三条（三）项',
            documentName: '《关于印发<北京市人工智能算力布局方案（2021-2023年）>的通知》',
            documentOrg: '北京市某单位',
            province: '北京市',
            violationDetail: '准入条件优先“有经济贡献的企业”；要求建设单位为“在京落地的行业骨干企业”。',
            result: '通报要求整改。',
            publishDate: '2023-12-19',
            reportId: report.id
        },
        {
            title: '某单位违规限定经营者获取财政奖励',
            content: `2022年北京市公平竞争审查抽查存在问题文件（一）：某单位2021年联合有关部门出台《关于印发<北京市高精尖产业发展资金管理办法>的通知》，规定“固定资产投资类项目实行项目库管理，根据实施指南优先从北京市高精尖产业项目库中遴选项目，项目承担单位应及时将项目信息入库”，优先遴选北京市高精尖产业参与固定资产投资类项目，违反了《实施细则》第十五条第（一）项关于不得在没有相关依据的情况下给予特定经营者财政奖励和补贴的规定。`,
            violationType: '违规给予优惠/限定项目库',
            violationClause: '《实施细则》第十五条第（一）项',
            documentName: '《关于印发<北京市高精尖产业发展资金管理办法>的通知》',
            documentOrg: '北京市某单位',
            province: '北京市',
            violationDetail: '规定优先从北京市高精尖产业项目库中遴选项目，给予特定经营者财政奖励。',
            result: '通报要求整改。',
            publishDate: '2023-12-19',
            reportId: report.id
        },
        {
            title: '某单位违规给予特定企业开展供应链金融业务的优惠政策',
            content: `2022年北京市公平竞争审查抽查存在问题文件（二）：某单位会同3部门2021年出台《关于印发<金融支持北京市制造业转型升级的指导意见>的通知》，规定“发挥供应链金融......支持信用良好、产业链成熟的制造业核心企业建立开展供应链金融业务”，为特定的制造业企业提供优惠政策，违反了《实施细则》第十五条（一）项关于在土地、劳动力、资本、技术、数据等要素获取方面，不得在没有相关依据的情况下给予特定经营者优惠政策的规定。`,
            violationType: '违规给予优惠政策',
            violationClause: '《实施细则》第十五条（一）项',
            documentName: '《关于印发<金融支持北京市制造业转型升级的指导意见>的通知》',
            documentOrg: '北京市某单位',
            province: '北京市',
            violationDetail: '仅支持“信用良好、产业链成熟的制造业核心企业”开展供应链金融服务，给予特定企业优惠。',
            result: '通报要求整改。',
            publishDate: '2023-12-19',
            reportId: report.id
        },
        {
            title: '某区政府办公室限定使用特定经营者提供的服务',
            content: `2022年北京市公平竞争审查抽查存在问题文件（三）：某区2021年出台《某区人民政府办公室关于印发本区2021年改善农村人居环境推进美丽乡村建设工作方案的通知》，规定“发挥专业公司的力量，将某公司作为区级项目管理公司，由其为美丽乡村建设进行全过程监管，所属双门管理项目区财政评审确定”，指定“某有限公司”提供的服务，违反了《实施细则》第十三条第（二）项关于不得限定经营、购买、使用特定经营者提供的商品和服务的规定。`,
            violationType: '限定交易/指定服务',
            violationClause: '《实施细则》第十三条第（二）项',
            documentName: '《某区人民政府办公室关于印发本区2021年改善农村人居环境推进美丽乡村建设工作方案的通知》',
            documentOrg: '北京市某区人民政府办公室',
            province: '北京市某区',
            violationDetail: '直接指定“某公司”为区级项目管理公司，负责全过程监管。',
            result: '通报要求整改。',
            publishDate: '2023-12-19',
            reportId: report.id
        },
        {
            title: '某区人社局设立企业红黑名单并排斥外地经营者',
            content: `2022年北京市公平竞争审查抽查存在问题文件（四）：某区人社局2021年出台《关于某区便捷人力资源市场发展的意见》，规定“建立经营性机构红黑名单制度，根据其服务质量、诚信状况、社会影响，建立红黑名单制度，每年定期公布，对于列入红名单的服务性机构，在政府购买人力资源服务，引才引智，劳动关系处理，发放政策扶持、人才入驻服务等方面给予优先考虑”，对红名单中的经营者提供购买服务倾斜，违反了《实施细则》第十三条第（三）项关于不得排斥或者限制外地经营者参加本地招标投标活动的规定。`,
            violationType: '排斥外地企业/设置不当评价指标',
            violationClause: '《实施细则》第十三条第（三）项',
            documentName: '《关于某区便捷人力资源市场发展的意见》',
            documentOrg: '北京市某区人社局',
            province: '北京市某区',
            violationDetail: '建立红黑名单制度，对红名单机构给予优先考虑，可能排斥外地经营者参与竞争。',
            result: '通报要求整改。',
            publishDate: '2023-12-19',
            reportId: report.id
        },
        {
            title: '某区园林绿化局限定使用区属公司绿化造林服务',
            content: `2022年北京市公平竞争审查抽查存在问题文件（五）：某区园林绿化局文件限定使用区属公司负责绿化造林任务，限定使用特定经营者提供的服务；规定企业按平原区级云林增量部分给予奖励，将财政支出与特定经营者缴纳的税收或非税收入挂钩；并且规定迁出减少注册资本的企业应追回其支持的全部资金，对企业自主迁移设置障碍。某区2021年出台《关于印发<某区新一轮百万亩造林绿化管理办法>的通知》，规定“规划性质为城镇建设用地、村庄建设用地、园地留白用地、各类园区及，且当年无实体计划的预留林置地块，原则上纳入‘揭榜挂帅’协同绿化建设任务，由区园林绿化局组织所属镇（街道）和区属公司进行协同绿化造林”，限定使用区属公司提供的服务，违反《实施细则》第十三条第（三）项关于不得限定经营、购买、使用特定经营者提供的商品和服务的规定。`,
            violationType: '限定交易/排斥竞争',
            violationClause: '《实施细则》第十三条第（三）项',
            documentName: '《关于印发<某区新一轮百万亩造林绿化管理办法>的通知》',
            documentOrg: '北京市某区园林绿化局',
            province: '北京市某区',
            violationDetail: '原则上由区属公司进行协同绿化造林，排除了其他企业。',
            result: '通报要求整改。',
            publishDate: '2023-12-19',
            reportId: report.id
        },
        {
            title: '某区政府违法将财政支出与税收挂钩并限制企业迁移',
            content: `2022年北京市公平竞争审查抽查存在问题文件（六）：某区2021年出台《某区人民政府关于印发<某区支持企业发展办法（试行）>的通知》，规定“同一企业在同一年度内享受多项资金支持的，支持总额原则上不超过其当年区域综合贡献的80%，本办法中明确为‘全额’的支持资金可据实兑现，不计入年度支持限额。”其中关于“区域综合贡献”的规定违反了《实施细则》第十五条第（二）项关于安排财政支出一般不得与特定经营者缴纳的税收或非税收入挂钩的规定；同时该文件规定“享受支持资金的企业，自最后一次兑现之日起，受五年内迁出我区，应退还在我区期间享受的全部支持资金”，对企业自主迁移设置障碍，违反了《实施细则》第十三条第（一）项关于不得设置不合理或者歧视性的准入和退出条件的规定。`,
            violationType: '财政奖补与税收挂钩/限制迁移',
            violationClause: '《实施细则》第十五条第（二）项、第十三条第（一）项',
            documentName: '《某区人民政府关于印发<某区支持企业发展办法（试行）>的通知》',
            documentOrg: '北京市某区人民政府',
            province: '北京市某区',
            violationDetail: '奖励总额与“区域综合贡献”（税收）挂钩；要求企业承诺五年内不迁出，否则退还全部资金。',
            result: '通报要求整改。',
            publishDate: '2023-12-19',
            reportId: report.id
        }
    ];

    for (const data of cases) {
        const newCase = await prisma.case.create({ data });
        console.log(`✓ 已添加案例: ${newCase.title}`);
    }
}

main()
    .catch((e) => {
        console.error(e);
        process.exit(1);
    })
    .finally(async () => {
        await prisma.$disconnect();
    });
