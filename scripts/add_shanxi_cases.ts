import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
    // 1. 创建山西省通报记录
    const report = await prisma.report.create({
        data: {
            title: '山西省2024年公平竞争审查十大案例',
            department: '山西省市场监督管理局',
            publishDate: '2024-12-02',
            province: '山西省'
        }
    });

    console.log(`创建通报记录，ID: ${report.id}`);

    // 2. 添加10个案例（完整原文）
    const cases = [
        // 案例1
        {
            title: '某县级市人民政府办公室文件将奖补与特定经营者缴纳的税收挂钩',
            content: `2023年11月，某县级市人民政府办公室印发《关于支持互联网物流平台企业发展的若干措施（试行）的通知》，文件规定："为切实支持互联网物流平台企业做大做强，根据互联网物流平台企业营业收入情况给予企业奖励，每年奖补资金额度不超过企业当年上缴地方（县级）税收增量部分（增量以2019年缴纳税收为基数）"。该条款将奖补政策与互联网物流平台企业缴纳的税收挂钩，违反了《公平竞争审查制度实施细则》（以下简称《实施细则》）第十五条第二款第一项"安排财政支出一般不得与特定经营者缴纳的税收或者非税收入挂钩"审查标准。2024年7月，该县级市人民政府修订了相关文件。`,
            violationType: '财政支出与税收挂钩',
            result: '2024年7月，该县级市人民政府修订了相关文件',
            violationClause: '《公平竞争审查制度实施细则》第十五条第二款第一项"安排财政支出一般不得与特定经营者缴纳的税收或者非税收入挂钩"',
            documentName: '关于支持互联网物流平台企业发展的若干措施（试行）的通知',
            documentOrg: '某县级市人民政府办公室',
            province: '山西省某县级市',
            violationDetail: '每年奖补资金额度不超过企业当年上缴地方（县级）税收增量部分（增量以2019年缴纳税收为基数）',
            reportId: report.id
        },
        // 案例2
        {
            title: '某县级市人民政府办公室文件指定中国建设银行"建行生活"服务平台作为政府消费券唯一投放平台',
            content: `2023年4月，某县级市人民政府办公室印发《"晋情消费·汾享杏福"消费促进活动工作方案》，文件规定："为确保政府消费券投放有序进行，消费券投放平台拟由市政府确定中国建设银行'建行生活'服务平台承办，并授权市商务局与合作平台方'建行生活'签订合作协议，不再履行政府采购流程"。该条款直接指定中国建设银行"建行生活"服务平台作为政府消费券唯一投放平台，违反了《实施细则》第十三条第三款第一项"以明确要求、暗示、拒绝或者拖延行政审批、重复检查、不予接入平台或者网络、违法违规给予奖励补贴等方式，限定或者变相限定经营、购买、使用特定经营者提供的商品和服务"审查标准。2024年2月，该县级市人民政府废止了相关文件。`,
            violationType: '限定使用特定经营者提供的服务',
            result: '2024年2月，该县级市人民政府废止了相关文件',
            violationClause: '《实施细则》第十三条第三款第一项"以明确要求、暗示、拒绝或者拖延行政审批、重复检查、不予接入平台或者网络、违法违规给予奖励补贴等方式，限定或者变相限定经营、购买、使用特定经营者提供的商品和服务"',
            documentName: '"晋情消费·汾享杏福"消费促进活动工作方案',
            documentOrg: '某县级市人民政府办公室',
            province: '山西省某县级市',
            violationDetail: '直接指定中国建设银行"建行生活"服务平台作为政府消费券唯一投放平台，并授权市商务局与合作平台方签订合作协议，不再履行政府采购流程',
            reportId: report.id
        },
        // 案例3
        {
            title: '某市园林局文件将本地业绩作为信用评价依据，且与招标投标挂钩',
            content: `2023年2月，某市园林局印发《关于开展2023年我市园林绿化施工企业信用评价工作的通知》，文件规定："所报业绩为近两年（2021年1月1日至2023年1月1日）在山西省内承担完成的园林绿化工程。......我局将及时在市园林局网站公布评价结果，并按照《市园林绿化施工企业信用管理办法实施细则（试行）》文件，实行园林绿化施工企业信用评价得分与园林绿化工程招标投标挂钩制度"。该条款将本地业绩作为信用评价依据，且与招标投标挂钩，违反了《实施细则》第十四条第三款第四项"将经营者在本地区的业绩、所获得的奖项荣誉作为投标条件、加分条件、中标条件或者用于评价企业信用等级，限制或者变相限制外地经营者参加本地招标投标活动"审查标准。2023年5月，该市园林局废止了相关文件。`,
            violationType: '将本地业绩与招标投标挂钩',
            result: '2023年5月，该市园林局废止了相关文件',
            violationClause: '《实施细则》第十四条第三款第四项"将经营者在本地区的业绩、所获得的奖项荣誉作为投标条件、加分条件、中标条件或者用于评价企业信用等级，限制或者变相限制外地经营者参加本地招标投标活动"',
            documentName: '关于开展2023年我市园林绿化施工企业信用评价工作的通知',
            documentOrg: '某市园林局',
            province: '山西省某市',
            violationDetail: '所报业绩为近两年在山西省内承担完成的园林绿化工程，实行园林绿化施工企业信用评价得分与园林绿化工程招标投标挂钩制度',
            reportId: report.id
        },
        // 案例4
        {
            title: '某县人民政府办公室文件排斥外地经营者参加本地招标投标活动',
            content: `2023年9月，某县人民政府办公室印发《2023年省级农业生产托管服务试点工作组织实施方案的通知》，文件规定："在综合评估当地农业生产托管服务组织的服务能力、质量、信誉等因素的基础上，公开规范择优选择服务组织作为项目实施主体"。该条款对本外地商品和服务设置歧视性措施，违反了《实施细则》第十四条第三款第二项"直接规定外地经营者不能参与本地特定的招标投标活动"审查标准。2024年6月，该县人民政府修订了相关文件。`,
            violationType: '排斥外地经营者参加招标投标',
            result: '2024年6月，该县人民政府修订了相关文件',
            violationClause: '《实施细则》第十四条第三款第二项"直接规定外地经营者不能参与本地特定的招标投标活动"',
            documentName: '2023年省级农业生产托管服务试点工作组织实施方案的通知',
            documentOrg: '某县人民政府办公室',
            province: '山西省某县',
            violationDetail: '在综合评估当地农业生产托管服务组织的服务能力、质量、信誉等因素的基础上，公开规范择优选择服务组织作为项目实施主体',
            reportId: report.id
        },
        // 案例5
        {
            title: '某县级市人民政府办公室文件将奖补政策与企业缴纳的税收挂钩',
            content: `2023年2月，某县级市人民政府办公室印发《关于支持交通运输业发展的若干措施》，文件规定："我市财政对道路运输业每年产生的增值税、企业所得税、个人所得税市级分成增量部分按100%奖励（以2019年为基数）"。该条款将奖补政策与企业缴纳的税收挂钩，违反了《实施细则》第十五条第二款第一项"安排财政支出一般不得与特定经营者缴纳的税收或者非税收入挂钩"审查标准。2024年6月，该县级市人民政府废止了相关文件。`,
            violationType: '财政支出与税收挂钩',
            result: '2024年6月，该县级市人民政府废止了相关文件',
            violationClause: '《实施细则》第十五条第二款第一项"安排财政支出一般不得与特定经营者缴纳的税收或者非税收入挂钩"',
            documentName: '关于支持交通运输业发展的若干措施',
            documentOrg: '某县级市人民政府办公室',
            province: '山西省某县级市',
            violationDetail: '我市财政对道路运输业每年产生的增值税、企业所得税、个人所得税市级分成增量部分按100%奖励（以2019年为基数）',
            reportId: report.id
        },
        // 案例6
        {
            title: '某区人民政府办公室文件将"本地配套率"作为奖补前置条件',
            content: `2023年2月，某区人民政府办公室印发《加快工业企业复产达产二十条措施和狠抓项目建设扩大有效投资十八条措施的通知》，文件规定："落实市对区内市级重点产业链链主企业增加本地协作配套企业原料和物资采购量，对"链主"企业每提高5个百分点的本地配套率，按照年度配套率增幅相应采购额的1%予以奖励，最高不超过50万元的奖励政策。鼓励区级"白名单"企业增加区内协作配套原料和物资采购量，带动上下游企业复工复产达产达效，对区内原料和物资采购且年内每提高5个百分点本地配套率的，按照年度配套率增幅相应采购额的1%予以奖励，最高不超过5万元"。该条款要求"本地配套率"作为奖补的前提条件，违反了《实施细则》第十四条第一款第二项"对相关商品、服务进行补贴时，对外地同类商品、服务不予补贴或者给予较低补贴"审查标准。2024年1月，该区人民政府修订了相关文件。`,
            violationType: '对外地商品给予较低补贴',
            result: '2024年1月，该区人民政府修订了相关文件',
            violationClause: '《实施细则》第十四条第一款第二项"对相关商品、服务进行补贴时，对外地同类商品、服务不予补贴或者给予较低补贴"',
            documentName: '加快工业企业复产达产二十条措施和狠抓项目建设扩大有效投资十八条措施的通知',
            documentOrg: '某区人民政府办公室',
            province: '山西省某区',
            violationDetail: '对"链主"企业每提高5个百分点的本地配套率，按照年度配套率增幅相应采购额的1%予以奖励，最高不超过50万元',
            reportId: report.id
        },
        // 案例7
        {
            title: '某区人民政府办公室文件对互联网物流平台企业的奖补与企业财政贡献挂钩',
            content: `2023年8月，某区人民政府办公室印发《支持互联网物流平台企业发展若干措施（试行）的通知》，文件规定："以企业2019年省、市、区财政贡献为基数，区财政将互联网物流平台企业省、市、区每年的财政贡献增量部分100%奖补扶持给企业。奖补扶持资金由区财政列支专项资金，当月统计，次月兑现，年底与省、市财政统一结算"。该条款明确将奖补与企业的财政贡献挂钩，违反了《实施细则》第十五条第二款"安排财政支出一般不得与特定经营者缴纳的税收或非税收入挂钩"审查标准。2024年6月，该区人民政府修订了相关文件。`,
            violationType: '财政支出与税收挂钩',
            result: '2024年6月，该区人民政府修订了相关文件',
            violationClause: '《实施细则》第十五条第二款"安排财政支出一般不得与特定经营者缴纳的税收或非税收入挂钩"',
            documentName: '支持互联网物流平台企业发展若干措施（试行）的通知',
            documentOrg: '某区人民政府办公室',
            province: '山西省某区',
            violationDetail: '以企业2019年省、市、区财政贡献为基数，区财政将互联网物流平台企业省、市、区每年的财政贡献增量部分100%奖补扶持给企业',
            reportId: report.id
        },
        // 案例8
        {
            title: '某区人民政府文件限定参加消费券活动商户为限额以上入统企业',
            content: `2023年6月，某区人民政府印发《2023年数字消费券发放工作方案的通知》，文件规定："参加本次活动的商户是办理了统一社会信用代码注册登记且在本区辖区内的限额以上入统的汽车经销商，因使用部分市级资金，其他县区的限额以上入统的汽车经销商也在核销使用范围内"。该措施不合理限定了消费券的使用范围，对于不在使用范围内的企业而言构成不正当竞争，产生排除限制竞争效果，违反了《实施细则》第十三条第一款第一项"设置明显不必要或者超出实际需要的准入和退出条件，排斥或者限制经营者参与市场竞争"审查标准。2024年1月，该区人民政府废止了相关文件。`,
            violationType: '设置不合理的准入条件',
            result: '2024年1月，该区人民政府废止了相关文件',
            violationClause: '《实施细则》第十三条第一款第一项"设置明显不必要或者超出实际需要的准入和退出条件，排斥或者限制经营者参与市场竞争"',
            documentName: '2023年数字消费券发放工作方案的通知',
            documentOrg: '某区人民政府',
            province: '山西省某区',
            violationDetail: '参加本次活动的商户是办理了统一社会信用代码注册登记且在本区辖区内的限额以上入统的汽车经销商',
            reportId: report.id
        },
        // 案例9
        {
            title: '某县人民政府文件指定"松果电单车"作为共享电动自行车服务的唯一供应商',
            content: `2020年3月，某县人民政府与北京某有限公司及天津某有限公司签署《松果电单车项目战略合作协议》，有效期五年。文件规定："甲方在协议期内将作为某县共享电动自行车服务的唯一合作伙伴，不得接受其他品牌共享电动自行车的投放，如有发现需责令清退"。该条款直接明确"松果电单车"为县电动自行车服务唯一供应商，违反了《公平竞争审查条例》第八条第三款"限定经营、购买或者使用特定经营者提供的商品或者服务"、《实施细则》第十三条第三款第一项"以明确要求、暗示、拒绝或者拖延行政审批、重复检查、不予接入平台或者网络、违法违规给予奖励补贴等方式，限定或者变相限定经营、购买、使用特定经营者提供的商品和服务"审查标准。2024年9月，该县人民政府解除了相关协议。`,
            violationType: '限定使用特定经营者提供的服务',
            result: '2024年9月，该县人民政府解除了相关协议',
            violationClause: '《公平竞争审查条例》第八条第三款"限定经营、购买或者使用特定经营者提供的商品或者服务"、《实施细则》第十三条第三款第一项',
            documentName: '松果电单车项目战略合作协议',
            documentOrg: '某县人民政府',
            province: '山西省某县',
            violationDetail: '甲方在协议期内将作为某县共享电动自行车服务的唯一合作伙伴，不得接受其他品牌共享电动自行车的投放，如有发现需责令清退',
            reportId: report.id
        },
        // 案例10
        {
            title: '某县人民政府办公室文件对经营性公共停车场设定不合理市场退出障碍',
            content: `2024年2月，某县人民政府办公室印发《停车场管理办法》，文件规定："经营性公共停车场不得擅自停止经营。经营者确有特殊原因需要停止经营的,应当报县城市管理行政主管部门同意，并在停止经营的十日前向社会公告"。该条款对经营性公共停车场设定不合理市场退出障碍，违反了《公平竞争审查条例》第八条第四款"设置不合理或者歧视性的准入、退出条件"、《实施细则》第十三条第一款第四项的"没有法律、行政法规或者国务院规定依据，对企业注销、破产、挂牌转让、搬迁转移等设定或者变相设定市场退出障碍"审查标准。2024年10月，该县人民政府修订了相关文件。`,
            violationType: '设定不合理的市场退出障碍',
            result: '2024年10月，该县人民政府修订了相关文件',
            violationClause: '《公平竞争审查条例》第八条第四款"设置不合理或者歧视性的准入、退出条件"、《实施细则》第十三条第一款第四项',
            documentName: '停车场管理办法',
            documentOrg: '某县人民政府办公室',
            province: '山西省某县',
            violationDetail: '经营性公共停车场不得擅自停止经营。经营者确有特殊原因需要停止经营的,应当报县城市管理行政主管部门同意，并在停止经营的十日前向社会公告',
            reportId: report.id
        }
    ];

    // 批量创建案例
    for (let i = 0; i < cases.length; i++) {
        const newCase = await prisma.case.create({
            data: cases[i]
        });
        console.log(`✓ 添加案例${i + 1}: ${newCase.title.substring(0, 50)}...`);
    }

    console.log(`\n✅ 成功添加山西省 ${cases.length} 个案例（完整原文）`);
    console.log(`📋 通报标题: ${report.title}`);
    console.log(`📅 发布日期: 2024-12-02`);
}

main()
    .catch((e) => {
        console.error(e);
        process.exit(1);
    })
    .finally(async () => {
        await prisma.$disconnect();
    });
