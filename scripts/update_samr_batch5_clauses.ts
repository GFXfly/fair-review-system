
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
    const reportTitle = '2022年制止滥用行政权力排除、限制竞争执法专项行动案件（第五批）';

    const report = await prisma.report.findFirst({
        where: { title: reportTitle }
    });

    if (!report) {
        console.log('Report not found');
        return;
    }

    const updates = [
        {
            title: '浙江省市场监管局纠正金华市武义县交通运输局滥用行政权力排除、限制竞争行为',
            violationClause: '《中华人民共和国反垄断法》第三十九条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，限定或者变相限定单位或者个人经营、购买、使用其指定的经营者提供的商品”和第四十五条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，制定含有排除、限制竞争内容的规定”'
        },
        {
            title: '浙江省市场监管局纠正丽水生态产业集聚区（丽水经济技术开发区）管理委员会滥用行政权力排除、限制竞争行为',
            violationClause: '《中华人民共和国反垄断法》第四十五条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，制定含有排除、限制竞争内容的规定”'
        },
        {
            title: '陕西省市场监管局纠正安康市汉阴县人民政府滥用行政权力排除、限制竞争行为',
            violationClause: '《中华人民共和国反垄断法》第四十五条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，制定含有排除、限制竞争内容的规定”'
        },
        {
            title: '江西省市场监管局纠正吉安市城市管理局滥用行政权力排除、限制竞争行为',
            violationClause: '《中华人民共和国反垄断法》第三十九条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，限定或者变相限定单位或者个人经营、购买、使用其指定的经营者提供的商品”'
        },
        {
            title: '黑龙江省市场监管局纠正牡丹江市城市管理综合执法局滥用行政权力排除、限制竞争行为',
            violationClause: '《中华人民共和国反垄断法》第四十条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，通过与经营者签订合作协议、备忘录等方式，妨碍其他经营者进入相关市场或者对其他经营者实行不平等待遇，排除、限制竞争”'
        },
        {
            title: '福建省市场监管局纠正厦门市翔安区建设与交通局滥用行政权力排除、限制竞争行为',
            violationClause: '《中华人民共和国反垄断法》第四十二条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，以设定歧视性资质要求、评审标准或者不依法发布信息等方式，排斥或者限制经营者参加招标投标以及其他经营活动”和第四十五条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，制定含有排除、限制竞争内容的规定”'
        },
        {
            title: '四川省市场监管局依法调查处理凉山彝族自治州金阳县自然资源局滥用行政权力排除、限制竞争行为',
            violationClause: '《中华人民共和国反垄断法》第四十一条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，实施下列行为，妨碍商品在地区之间的自由流通：（五）妨碍商品在地区之间自由流通的其他行为”'
        },
        {
            title: '黑龙江省市场监管局纠正佳木斯市城市管理综合执法局滥用行政权力排除、限制竞争行为',
            violationClause: '《中华人民共和国反垄断法》第四十条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，通过与经营者签订合作协议、备忘录等方式，妨碍其他经营者进入相关市场或者对其他经营者实行不平等待遇，排除、限制竞争”'
        },
        {
            title: '西藏自治区市场监管局纠正林芝市巴宜区人民政府滥用行政权力排除、限制竞争行为',
            violationClause: '修改前的《中华人民共和国反垄断法》第三十二条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，限定或者变相限定单位或者个人经营、购买、使用其指定的经营者提供的商品”和第三十七条“行政机关不得滥用行政权力，制定含有排除、限制竞争内容的规定”'
        },
        {
            title: '贵州省市场监管局纠正遵义市综合行政执法局滥用行政权力排除、限制竞争行为',
            violationClause: '修改前的《中华人民共和国反垄断法》第三十六条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，强制经营者从事本法规定的垄断行为”和第三十七条“行政机关不得滥用行政权力，制定含有排除、限制竞争内容的规定”以及第三十二条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，限定或者变相限定单位或者个人经营、购买、使用其指定的经营者提供的商品”'
        },
        {
            title: '贵州省市场监管局纠正遵义市正安县综合行政执法局滥用行政权力排除、限制竞争行为',
            violationClause: '《中华人民共和国反垄断法》第三十九条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，限定或者变相限定单位或者个人经营、购买、使用其指定的经营者提供的商品”和第四十五条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，制定含有排除、限制竞争内容的规定”'
        },
        {
            title: '辽宁省市场监管局纠正葫芦岛市自然资源局滥用行政权力排除、限制竞争行为',
            violationClause: '修改前的《中华人民共和国反垄断法》第三十二条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，限定或者变相限定单位或者个人经营、购买、使用其指定的经营者提供的商品”和第三十七条“行政机关不得滥用行政权力，制定含有排除、限制竞争内容的规定”'
        },
        {
            title: '江苏省市场监管局纠正常州市住房和城乡建设局滥用行政权力排除、限制竞争行为',
            violationClause: '修改前的《中华人民共和国反垄断法》第三十二条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，限定或者变相限定单位或者个人经营、购买、使用其指定的经营者提供的商品”和第三十七条“行政机关不得滥用行政权力，制定含有排除、限制竞争内容的规定”'
        },
        {
            title: '辽宁省市场监管局纠正沈阳市自然资源局滥用行政权力排除、限制竞争行为',
            violationClause: '修改前的《中华人民共和国反垄断法》第三十二条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，限定或者变相限定单位或者个人经营、购买、使用其指定的经营者提供的商品”和第三十七条“行政机关不得滥用行政权力，制定含有排除、限制竞争内容的规定”'
        },
        {
            title: '辽宁省市场监管局纠正大连市自然资源局滥用行政权力排除、限制竞争行为',
            violationClause: '修改前的《中华人民共和国反垄断法》第三十二条“行政机关和法律、法规授权的具有管理公共事务职能的组织不得滥用行政权力，限定或者变相限定单位或者个人经营、购买、使用其指定的经营者提供的商品”和第三十七条“行政机关不得滥用行政权力，制定含有排除、限制竞争内容的规定”'
        }
    ];

    for (const update of updates) {
        await prisma.case.updateMany({
            where: {
                title: update.title,
                reportId: report.id
            },
            data: {
                violationClause: update.violationClause
            }
        });
        console.log(`Updated violationClause for: ${update.title}`);
    }
}

main()
    .catch((e) => {
        console.error(e);
        process.exit(1);
    })
    .finally(async () => {
        await prisma.$disconnect();
    });
