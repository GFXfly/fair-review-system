
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
    // 创建通报
    const report = await prisma.report.create({
        data: {
            title: '重庆市市场监督管理局关于2023年全市落实公平竞争审查制度抽查情况的通报',
            department: '重庆市市场监督管理局',
            publishDate: '2023-11-28',
            province: '重庆市'
        }
    });

    console.log(`创建重庆通报记录，ID: ${report.id}`);

    const cases = [
        {
            title: '垫江县人民政府办公室在政策措施中设置不合理准入条件及排斥外地经营者',
            content: `（一）垫江县人民政府办公室印发《垫江县人民政府办公室关于印发垫江县进一步支持建筑业及房地产市场平稳健康发展若干措施的通知》（垫江府办发〔2023〕18号），规定“大力支持本地建筑企业发展。对政府投资项目，在同等条件下优先由注册地在垫江的建筑企业承建”。该规定设置了不合理的准入条件，排斥了外地经营者参加本地招标投标活动。违反了《公平竞争审查制度实施细则》第十三条第（一）项“不得设置不合理或者歧视性的准入和退出条件”和第（三）项“不得排斥或者限制外地经营者参加本地招标投标活动”的规定。`,
            violationType: '优先本地企业/排斥外地竞争',
            violationClause: '《公平竞争审查制度实施细则》第十三条第（一）项“不得设置不合理或者歧视性的准入和退出条件”和第（三）项“不得排斥或者限制外地经营者参加本地招标投标活动”',
            documentName: '《垫江县人民政府办公室关于印发垫江县进一步支持建筑业及房地产市场平稳健康发展若干措施的通知》（垫江府办发〔2023〕18号）',
            documentOrg: '垫江县人民政府办公室',
            province: '重庆市垫江县',
            violationDetail: '规定政府投资项目同等条件下优先由注册地在垫江的建筑企业承建。',
            result: '通报指出问题并已整改。',
            publishDate: '2023-11-28',
            reportId: report.id
        },
        {
            title: '大足区经济和信息化委员会在政策措施中对外地商品实行歧视性补贴',
            content: `（二）大足区经济和信息化委员会印发《大足区工业企业产品促销奖励办法》（大足经信发〔2022〕46号），规定“凡采购大足区内工业企业生产的产品...按采购额...给予奖励”。该规定对外地商品实行了歧视性补贴政策，扰乱了公平竞争的市场秩序。违反了《公平竞争审查制度实施细则》第十四条第（一）项“不得对外地和进口商品、服务实行歧视性价格和歧视性补贴政策”的规定。`,
            violationType: '歧视性补贴/排斥外地商品',
            violationClause: '《公平竞争审查制度实施细则》第十四条第（一）项“不得对外地和进口商品、服务实行歧视性价格和歧视性补贴政策”',
            documentName: '《大足区工业企业产品促销奖励办法》（大足经信发〔2022〕46号）',
            documentOrg: '大足区经济和信息化委员会',
            province: '重庆市大足区',
            violationDetail: '仅对采购本区内工业企业生产的产品给予奖励。',
            result: '通报指出问题并已整改。',
            publishDate: '2023-11-28',
            reportId: report.id
        },
        {
            title: '渝北区商务委员会在消费券发放活动中限定交易',
            content: `（三）渝北区商务委员会印发《关于开展2023年“爱尚渝北”消费季活动的通知》，在发放消费券活动中，限定只能在特定商场、超市使用，排除了其他具有同等经营资质的经营者。该行为剥夺了消费者的选择权，也损害了其他经营者的合法权益。违反了《公平竞争审查制度实施细则》第十三条第（二）项“不得未经公平竞争授予经营者特许经营权”和“不得限定经营、购买、使用特定经营者提供的商品和服务”的规定。`,
            violationType: '限定交易/指定经营者',
            violationClause: '《公平竞争审查制度实施细则》第十三条第（二）项“不得未经公平竞争授予经营者特许经营权”',
            documentName: '《关于开展2023年“爱尚渝北”消费季活动的通知》',
            documentOrg: '渝北区商务委员会',
            province: '重庆市渝北区',
            violationDetail: '限定消费券只能在特定商场、超市使用。',
            result: '通报指出问题并已整改。',
            publishDate: '2023-11-28',
            reportId: report.id
        },
        {
            title: '奉节县住房和城乡建设委员会在招标投标活动中设置加分项限制竞争',
            content: `（四）奉节县住房和城乡建设委员会印发《关于进一步规范房屋建筑和市政基础设施工程监理招标投标活动的通知》（奉节住建发〔2023〕68号），在评分标准中设定“在奉节县注册成立的独立法人公司”等及纳税额为加分项。该规定排斥了外地经营者平等参与竞争。违反了《公平竞争审查制度实施细则》第十三条第（三）项“不得排斥或者限制外地经营者参加本地招标投标活动”的规定。`,
            violationType: '本地注册加分/排斥外地企业',
            violationClause: '《公平竞争审查制度实施细则》第十三条第（三）项“不得排斥或者限制外地经营者参加本地招标投标活动”',
            documentName: '《关于进一步规范房屋建筑和市政基础设施工程监理招标投标活动的通知》（奉节住建发〔2023〕68号）',
            documentOrg: '奉节县住房和城乡建设委员会',
            province: '重庆市奉节县',
            violationDetail: '将“在奉节县注册成立的独立法人公司”及纳税情况作为加分项。',
            result: '通报指出问题并已整改。',
            publishDate: '2023-11-28',
            reportId: report.id
        },
        {
            title: '巫山县发展和改革委员会建立中介服务机构备选库限制市场准入',
            content: `（五）巫山县发展和改革委员会印发《关于规范工程建设项目招标代理机构管理的通知》，明确建立招标代理机构备选库，并限定业主单位只能在库内选择代理机构。该行为设置了不合理的准入障碍，排斥了备选库以外的合格经营者。违反了《公平竞争审查制度实施细则》第十三条第（一）项“不得设置不合理或者歧视性的准入和退出条件”的规定。`,
            violationType: '设置备选库/限定交易',
            violationClause: '《公平竞争审查制度实施细则》第十三条第（一）项“不得设置不合理或者歧视性的准入和退出条件”',
            documentName: '《关于规范工程建设项目招标代理机构管理的通知》',
            documentOrg: '巫山县发展和改革委员会',
            province: '重庆市巫山县',
            violationDetail: '建立招标代理机构备选库，限定业主只能在库内选择。',
            result: '通报指出问题并已整改。',
            publishDate: '2023-11-28',
            reportId: report.id
        }
    ];

    for (const data of cases) {
        const newCase = await prisma.case.create({ data });
        console.log(`✓ 已添加案例: ${newCase.title}`);
    }
}

main()
    .catch((e) => {
        console.error(e);
        process.exit(1);
    })
    .finally(async () => {
        await prisma.$disconnect();
    });
