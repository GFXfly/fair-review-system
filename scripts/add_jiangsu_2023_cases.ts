
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
    // 1. 创建通报记录
    // 通告机构：江苏省市场监督管理局
    // 通告日期：2023-12-21
    const report = await prisma.report.create({
        data: {
            title: '江苏省市场监督管理局 2023年公平竞争审查督查整改典型案例',
            department: '江苏省市场监督管理局',
            publishDate: '2023-12-21',
            province: '江苏省'
        }
    });

    console.log(`创建江苏省通报记录，ID: ${report.id}`);

    const cases = [
        {
            title: '某市人民政府违规设置准入障碍限制外地企业进入本地建筑行业承接工程',
            content: `案例一 某市人民政府违规设置准入障碍限制外地企业进入本地建筑行业承接工程。《某市建筑市场管理若干规定》中“外地施工、监理等单位在本市承接工程之前，应当按规定向建筑市场监管机构提交诚信守法承诺书、营业执照、资质证书以及人员配备、驻本地办公场所、诚信记录等资料，办理备案手续，并领取信用手册”等内容，违反《公平竞争审查制度实施细则》的“市场准入和退出标准”中关于“不得设置不合理或者歧视性的准入和退出条件”的规定。目前文件正在整改。`,
            violationType: '设置不合理准入条件/备案壁垒',
            violationClause: '《公平竞争审查制度实施细则》“市场准入和退出标准”中关于“不得设置不合理或者歧视性的准入和退出条件”的规定',
            documentName: '《某市建筑市场管理若干规定》',
            documentOrg: '某市人民政府',
            province: '江苏省某市',
            violationDetail: '要求外地施工、监理等单位在承接工程前办理备案手续，领取信用手册，提交驻本地办公场所等资料。',
            result: '目前文件正在整改。',
            publishDate: '2023-12-21',
            reportId: report.id
        },
        {
            title: '某市生态环境局限定消费者购买本地经营者提供的报废服务',
            content: `案例二 某市生态环境局限定消费者购买本地经营者提供的报废服务。《关于对某市国三及以下排放标准柴油车提前淘汰报废实施补贴的通告》中“享受本市提前淘汰报废的国三及以下排放标准柴油车补贴需符合如下要求：机动车在补贴通告发布之日至2022年12月31日在本市报废汽车回收企业报废，并办理注销登记手续”等内容，违反《公平竞争审查制度实施细则》的“市场准入和退出标准”中关于“不得限定经营、购买、使用经营者提供的商品和服务”的规定。目前文件已整改。`,
            violationType: '限定交易/排斥外地服务',
            violationClause: '《公平竞争审查制度实施细则》“市场准入和退出标准”中关于“不得限定经营、购买、使用经营者提供的商品和服务”的规定',
            documentName: '《关于对某市国三及以下排放标准柴油车提前淘汰报废实施补贴的通告》',
            documentOrg: '某市生态环境局',
            province: '江苏省某市',
            violationDetail: '要求享受补贴的车辆必须在“本市”报废汽车回收企业报废，排除了外地回收企业。',
            result: '目前文件已整改。',
            publishDate: '2023-12-21',
            reportId: report.id
        },
        {
            title: '某市某区发展改革委违法安排财政支出与特定经营者税收挂钩',
            content: `案例三 某市某区发展改革委违法安排财政支出与特定经营者税收挂钩。《关于印发某市某区总部经济高质量发展产业政策实施细则的通知》中"经营贡献奖励。（一）已认定的工业总部企业、本土培育服务业总部企业、功能性机构以及投资性公司，享受以下基础奖及增量奖，一定6年。1.基础奖。当年企业净入库税收达1亿元，给予100万元基础奖励，每超出1亿元，奖励增加100万。2.增量奖。以上一年度净入库税收为基数，按企业对地方的实际贡献超基数部分为依据，给予50%的奖励，年奖励金额最高1000万元。（二）已认定的外来引入服务业总部企业，按照认定当年政策口径，延续享受6年政策奖励，完成政策奖励后，参照上述第（一）款享受基础奖和增量奖，一定3年。（三）2020年起认定的工业总部企业、本土培育服务业总部企业、功能性机构以及投资性公司，参照上述第（一）款享受6年政策奖励。（四）2020年起认定的外来引入服务业总部企业，自认定当年起，按企业对地方的实际贡献为依据，给予80%奖励”等内容，违反《公平竞争审查制度实施细则》的“违反生产经营成本”中关于“安排财政支出一般不得与特定经营者缴纳的税收或非税收入挂钩”的规定。目前文件已整改。`,
            violationType: '财政奖补与税收挂钩',
            violationClause: '《公平竞争审查制度实施细则》“违反生产经营成本”中关于“安排财政支出一般不得与特定经营者缴纳的税收或非税收入挂钩”的规定',
            documentName: '《关于印发某市某区总部经济高质量发展产业政策实施细则的通知》',
            documentOrg: '某市某区发展改革委',
            province: '江苏省某市某区',
            violationDetail: '设立基础奖和增量奖，明确按企业净入库税收、地方实际贡献（即税收留成）作为计算奖励的基数。',
            result: '目前文件已整改。',
            publishDate: '2023-12-21',
            reportId: report.id
        },
        {
            title: '某县级市人民政府违法对“种子库”企业给予优惠政策',
            content: `案例四 某县级市人民政府违法对“种子库”企业给予优惠政策。《关于印发某市电子信息产业创新集群建设实施意见的通知》中“建立健全培育北交所上市‘种子库’，将‘种子库’企业优先纳入市级财政风险补偿资金池支持名录”等内容，违反《公平竞争审查制度实施细则》的“影响生产经营成本”中关于“不得违法给予特定经营者优惠政策”的规定。目前文件已整改。`,
            violationType: '违规给予优惠政策',
            violationClause: '《公平竞争审查制度实施细则》“影响生产经营成本”中关于“不得违法给予特定经营者优惠政策”的规定',
            documentName: '《关于印发某市电子信息产业创新集群建设实施意见的通知》',
            documentOrg: '某县级市人民政府',
            province: '江苏省某县级市',
            violationDetail: '将“种子库”企业优先纳入市级财政风险补偿资金池支持名录，给予特定企业优惠。',
            result: '目前文件已整改。',
            publishDate: '2023-12-21',
            reportId: report.id
        },
        {
            title: '某县级市人民政府区别对待本地与外地企业',
            content: `案例五 某县级市人民政府区别对待本地与外地企业。《某市工业经济高质量发展若干扶持政策》中“项目奖励金额按照合同能源管理项目中企业和服务公司的投资比例实行分配，其中对非本地注册的服务公司不进行奖励”等内容，违反《公平竞争审查制度实施细则》的“商品和要素自由流动标准”中关于“不得对外地和进口商品、服务实行歧视性价格和歧视性补贴政策”的规定。目前文件已整改。`,
            violationType: '差别待遇/排斥外地企业',
            violationClause: '《公平竞争审查制度实施细则》“商品和要素自由流动标准”中关于“不得对外地和进口商品、服务实行歧视性价格和歧视性补贴政策”的规定',
            documentName: '《某市工业经济高质量发展若干扶持政策》',
            documentOrg: '某县级市人民政府',
            province: '江苏省某县级市',
            violationDetail: '明确规定对非本地注册的服务公司不进行项目奖励。',
            result: '目前文件已整改。',
            publishDate: '2023-12-21',
            reportId: report.id
        },
        {
            title: '某市某县人民政府对企业设置不合理退出条件',
            content: `案例六 某市某县人民政府对企业设置不合理退出条件。《关于印发某县“十四五”企业上市（挂牌）行动计划的通知》中“（七）相关要求。企业在享受奖励政策前，须对本企业在上市成功后5年内注册地不迁出我县向县政府作出书面承诺，如违反承诺，收（扣）回已兑现的奖励资金”等内容，违反《公平竞争审查制度实施细则》的“市场准入和退出标准”中关于“不得设置不合理或者歧视性的准入和退出条件”的规定。目前文件已整改。`,
            violationType: '限制企业迁移/退出障碍',
            violationClause: '《公平竞争审查制度实施细则》“市场准入和退出标准”中关于“不得设置不合理或者歧视性的准入和退出条件”的规定',
            documentName: '《关于印发某县“十四五”企业上市（挂牌）行动计划的通知》',
            documentOrg: '某市某县人民政府',
            province: '江苏省某市某县',
            violationDetail: '要求企业享受奖励前承诺上市成功后5年内注册地不迁出，否则收回奖励资金，限制了企业自由迁移。',
            result: '目前文件已整改。',
            publishDate: '2023-12-21',
            reportId: report.id
        },
        {
            title: '某县级市人民政府违法将财政支出与税收挂钩',
            content: `案例七 某县级市人民政府违法将财政支出与税收挂钩。《关于进一步促进全市建筑业高质量发展的实施意见》中“凡本土建筑业企业在市外承接工程，回我市结算清缴，按该企业经济贡献额度进行奖励，500万元以上不足1000万元的按照每100万元给予5万元的奖励，1000万元以上的每100万元给予10万元奖励”等内容，违反《公平竞争审查制度实施细则》的“影响生产成本经营成本”中关于“安排财政支出一般不得与特定经营者缴纳的税收或非税收入挂钩”的规定。目前文件已整改。`,
            violationType: '财政奖补与税收挂钩',
            violationClause: '《公平竞争审查制度实施细则》“影响生产成本经营成本”中关于“安排财政支出一般不得与特定经营者缴纳的税收或非税收入挂钩”的规定',
            documentName: '《关于进一步促进全市建筑业高质量发展的实施意见》',
            documentOrg: '某县级市人民政府',
            province: '江苏省某县级市',
            violationDetail: '根据建筑企业在市外承接工程回本市结算的经济贡献（税收）额度进行阶梯式奖励。',
            result: '目前文件已整改。',
            publishDate: '2023-12-21',
            reportId: report.id
        }
    ];

    for (const data of cases) {
        const newCase = await prisma.case.create({ data });
        console.log(`✓ 已添加案例: ${newCase.title}`);
    }
}

main()
    .catch((e) => {
        console.error(e);
        process.exit(1);
    })
    .finally(async () => {
        await prisma.$disconnect();
    });
